<div class="career-path-container">
  <path-header
    [title]="Title"
    [selectedFilter]="selectedFilter"
    [searchQuery]="searchQuery"
    (selectedFilterChange)="onFilterChange($event)"
    (searchQueryChange)="onSearchChange($event)">
  </path-header>

  <div class="path-visualization">
    <div class="progress-summary">
      <div class="progress-bar-container">
        <div class="progress-bar"
          [style.width]="(completedSteps.length / totalSteps) * 100 + '%'">
          <div class="progress-label">{{completedSteps.length}}/{{totalSteps}}
            steps completed</div>
        </div>
      </div>
    </div>
  </div>

  <path-container
    [filteredStages]="filteredStages"
    [activeStage]="activeStage"
    [activeStep]="activeStep"
    [completedSteps]="completedSteps"
    [inProgressSteps]="inProgressSteps"
    (stageToggled)="toggleStage($event)"
    (stepToggled)="toggleStep($event)"
    (stepStarted)="startStep($event)"
    (stepCompleted)="completeStep($event)"
    (stepReset)="resetStep($event)"
    (resetFilter)="resetFilter()">
  </path-container>
</div>

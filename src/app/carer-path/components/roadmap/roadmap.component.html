<div class="path">
  <path-header
    [title]="Title"
    [selectedFilter]="selectedFilter"
    [searchQuery]="searchQuery"
    (selectedFilterChange)="onFilterChange($event)"
    (searchQueryChange)="onSearchChange($event)">
  </path-header>

  <progress-track
    [completedSteps]="completedSteps"
    [totalSteps]="totalSteps"
    [stages]="stages">
  </progress-track>
  <path-container
    [filteredStages]="filteredStages"
    [activeStage]="activeStage"
    [activeStep]="activeStep"
    [completedSteps]="completedSteps"
    [inProgressSteps]="inProgressSteps"
    (stageToggled)="toggleStage($event)"
    (stepToggled)="toggleStep($event)"
    (stepStarted)="startStep($event)"
    (stepCompleted)="completeStep($event)"
    (stepReset)="resetStep($event)">
  </path-container>
  <div class="progress-tracker">
    <div class="progress-bar"
      [style.width]="(completedSteps.length / totalSteps) * 100 + '%'"></div>
    <span>{{completedSteps.length}}/{{totalSteps}} steps completed</span>
  </div>
</div>

import{$ as et,G as Dt,Q as $,R as F,S as Ut,T as Bt,U as qt,W as D,X as C,ba as M,t as kt,u as Ot,v as Lt,w as Ft,x as V}from"./chunk-7E5E4JX3.js";import{e as p}from"./chunk-ACKELEN3.js";var it,xt,K=function(){var t=self.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0];if(t&&t.responseStart>0&&t.responseStart<performance.now())return t},Gt=function(t){if(document.readyState==="loading")return"loading";var e=K();if(e){if(t<e.domInteractive)return"loading";if(e.domContentLoadedEventStart===0||t<e.domContentLoadedEventStart)return"dom-interactive";if(e.domComplete===0||t<e.domComplete)return"dom-content-loaded"}return"complete"},an=function(t){var e=t.nodeName;return t.nodeType===1?e.toLowerCase():e.toUpperCase().replace(/^#/,"")},st=function(t,e){var n="";try{for(;t&&t.nodeType!==9;){var r=t,i=r.id?"#"+r.id:an(r)+(r.classList&&r.classList.value&&r.classList.value.trim()&&r.classList.value.trim().length?"."+r.classList.value.trim().replace(/\s+/g,"."):"");if(n.length+i.length>(e||100)-1)return n||i;if(n=n?i+">"+n:i,r.id)break;t=r.parentNode}}catch{}return n},Wt=-1,on=function(){return Wt},B=function(t){addEventListener("pageshow",function(e){e.persisted&&(Wt=e.timeStamp,t(e))},!0)},ct=function(){var t=K();return t&&t.activationStart||0},_=function(t,e){var n=K(),r="navigate";return on()>=0?r="back-forward-cache":n&&(document.prerendering||ct()>0?r="prerender":document.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:t,value:e===void 0?-1:e,rating:"good",delta:0,entries:[],id:"v4-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:r}},L=function(t,e,n){try{if(PerformanceObserver.supportedEntryTypes.includes(t)){var r=new PerformanceObserver(function(i){Promise.resolve().then(function(){e(i.getEntries())})});return r.observe(Object.assign({type:t,buffered:!0},n||{})),r}}catch{}},S=function(t,e,n,r){var i,o;return function(s){e.value>=0&&(s||r)&&((o=e.value-(i||0))||i===void 0)&&(i=e.value,e.delta=o,e.rating=function(a,c){return a>c[1]?"poor":a>c[0]?"needs-improvement":"good"}(e.value,n),t(e))}},ut=function(t){requestAnimationFrame(function(){return requestAnimationFrame(function(){return t()})})},G=function(t){document.addEventListener("visibilitychange",function(){document.visibilityState==="hidden"&&t()})},lt=function(t){var e=!1;return function(){e||(t(),e=!0)}},P=-1,jt=function(){return document.visibilityState!=="hidden"||document.prerendering?1/0:0},H=function(t){document.visibilityState==="hidden"&&P>-1&&(P=t.type==="visibilitychange"?t.timeStamp:0,sn())},Vt=function(){addEventListener("visibilitychange",H,!0),addEventListener("prerenderingchange",H,!0)},sn=function(){removeEventListener("visibilitychange",H,!0),removeEventListener("prerenderingchange",H,!0)},Xt=function(){return P<0&&(P=jt(),Vt(),B(function(){setTimeout(function(){P=jt(),Vt()},0)})),{get firstHiddenTime(){return P}}},ft=function(t){document.prerendering?addEventListener("prerenderingchange",function(){return t()},!0):t()},$t=[1800,3e3],cn=function(t,e){e=e||{},ft(function(){var n,r=Xt(),i=_("FCP"),o=L("paint",function(s){s.forEach(function(a){a.name==="first-contentful-paint"&&(o.disconnect(),a.startTime<r.firstHiddenTime&&(i.value=Math.max(a.startTime-ct(),0),i.entries.push(a),n(!0)))})});o&&(n=S(t,i,$t,e.reportAllChanges),B(function(s){i=_("FCP"),n=S(t,i,$t,e.reportAllChanges),ut(function(){i.value=performance.now()-s.timeStamp,n(!0)})}))})},zt=[.1,.25],Jt=function(t,e){(function(n,r){r=r||{},cn(lt(function(){var i,o=_("CLS",0),s=0,a=[],c=function(l){l.forEach(function(u){if(!u.hadRecentInput){var m=a[0],E=a[a.length-1];s&&u.startTime-E.startTime<1e3&&u.startTime-m.startTime<5e3?(s+=u.value,a.push(u)):(s=u.value,a=[u])}}),s>o.value&&(o.value=s,o.entries=a,i())},f=L("layout-shift",c);f&&(i=S(n,o,zt,r.reportAllChanges),G(function(){c(f.takeRecords()),i(!0)}),B(function(){s=0,o=_("CLS",0),i=S(n,o,zt,r.reportAllChanges),ut(function(){return i()})}),setTimeout(i,0))}))})(function(n){var r=function(i){var o,s={};if(i.entries.length){var a=i.entries.reduce(function(f,l){return f&&f.value>l.value?f:l});if(a&&a.sources&&a.sources.length){var c=(o=a.sources).find(function(f){return f.node&&f.node.nodeType===1})||o[0];c&&(s={largestShiftTarget:st(c.node),largestShiftTime:a.startTime,largestShiftValue:a.value,largestShiftSource:c,largestShiftEntry:a,loadState:Gt(a.startTime)})}}return Object.assign(i,{attribution:s})}(n);t(r)},e)};var Yt=0,nt=1/0,z=0,un=function(t){t.forEach(function(e){e.interactionId&&(nt=Math.min(nt,e.interactionId),z=Math.max(z,e.interactionId),Yt=z?(z-nt)/7+1:0)})},Qt=function(){return it?Yt:performance.interactionCount||0},ln=function(){"interactionCount"in performance||it||(it=L("event",un,{type:"event",buffered:!0,durationThreshold:0}))},T=[],U=new Map,Zt=0,fn=function(){var t=Math.min(T.length-1,Math.floor((Qt()-Zt)/50));return T[t]},te=[],dn=function(t){if(te.forEach(function(i){return i(t)}),t.interactionId||t.entryType==="first-input"){var e=T[T.length-1],n=U.get(t.interactionId);if(n||T.length<10||t.duration>e.latency){if(n)t.duration>n.latency?(n.entries=[t],n.latency=t.duration):t.duration===n.latency&&t.startTime===n.entries[0].startTime&&n.entries.push(t);else{var r={id:t.interactionId,latency:t.duration,entries:[t]};U.set(r.id,r),T.push(r)}T.sort(function(i,o){return o.latency-i.latency}),T.length>10&&T.splice(10).forEach(function(i){return U.delete(i.id)})}}},dt=function(t){var e=self.requestIdleCallback||self.setTimeout,n=-1;return t=lt(t),document.visibilityState==="hidden"?t():(n=e(t),G(t)),n},Ht=[200,500],pn=function(t,e){"PerformanceEventTiming"in self&&"interactionId"in PerformanceEventTiming.prototype&&(e=e||{},ft(function(){var n;ln();var r,i=_("INP"),o=function(a){dt(function(){a.forEach(dn);var c=fn();c&&c.latency!==i.value&&(i.value=c.latency,i.entries=c.entries,r())})},s=L("event",o,{durationThreshold:(n=e.durationThreshold)!==null&&n!==void 0?n:40});r=S(t,i,Ht,e.reportAllChanges),s&&(s.observe({type:"first-input",buffered:!0}),G(function(){o(s.takeRecords()),r(!0)}),B(function(){Zt=Qt(),T.length=0,U.clear(),i=_("INP"),r=S(t,i,Ht,e.reportAllChanges)}))}))},k=[],I=[],at=0,pt=new WeakMap,O=new Map,ot=-1,gn=function(t){k=k.concat(t),ee()},ee=function(){ot<0&&(ot=dt(mn))},mn=function(){O.size>10&&O.forEach(function(s,a){U.has(a)||O.delete(a)});var t=T.map(function(s){return pt.get(s.entries[0])}),e=I.length-50;I=I.filter(function(s,a){return a>=e||t.includes(s)});for(var n=new Set,r=0;r<I.length;r++){var i=I[r];ne(i.startTime,i.processingEnd).forEach(function(s){n.add(s)})}var o=k.length-1-50;k=k.filter(function(s,a){return s.startTime>at&&a>o||n.has(s)}),ot=-1};te.push(function(t){t.interactionId&&t.target&&!O.has(t.interactionId)&&O.set(t.interactionId,t.target)},function(t){var e,n=t.startTime+t.duration;at=Math.max(at,t.processingEnd);for(var r=I.length-1;r>=0;r--){var i=I[r];if(Math.abs(n-i.renderTime)<=8){(e=i).startTime=Math.min(t.startTime,e.startTime),e.processingStart=Math.min(t.processingStart,e.processingStart),e.processingEnd=Math.max(t.processingEnd,e.processingEnd),e.entries.push(t);break}}e||(e={startTime:t.startTime,processingStart:t.processingStart,processingEnd:t.processingEnd,renderTime:n,entries:[t]},I.push(e)),(t.interactionId||t.entryType==="first-input")&&pt.set(t,e),ee()});var ne=function(t,e){for(var n,r=[],i=0;n=k[i];i++)if(!(n.startTime+n.duration<t)){if(n.startTime>e)break;r.push(n)}return r},re=function(t,e){xt||(xt=L("long-animation-frame",gn)),pn(function(n){var r=function(i){var o=i.entries[0],s=pt.get(o),a=o.processingStart,c=s.processingEnd,f=s.entries.sort(function(R,rn){return R.processingStart-rn.processingStart}),l=ne(o.startTime,c),u=i.entries.find(function(R){return R.target}),m=u&&u.target||O.get(o.interactionId),E=[o.startTime+o.duration,c].concat(l.map(function(R){return R.startTime+R.duration})),j=Math.max.apply(Math,E),nn={interactionTarget:st(m),interactionTargetElement:m,interactionType:o.name.startsWith("key")?"keyboard":"pointer",interactionTime:o.startTime,nextPaintTime:j,processedEventEntries:f,longAnimationFrameEntries:l,inputDelay:a-o.startTime,processingDuration:c-a,presentationDelay:Math.max(j-c,0),loadState:Gt(o.startTime)};return Object.assign(i,{attribution:nn})}(n);t(r)},e)},Kt=[2500,4e3],rt={},ie=function(t,e){(function(n,r){r=r||{},ft(function(){var i,o=Xt(),s=_("LCP"),a=function(l){r.reportAllChanges||(l=l.slice(-1)),l.forEach(function(u){u.startTime<o.firstHiddenTime&&(s.value=Math.max(u.startTime-ct(),0),s.entries=[u],i())})},c=L("largest-contentful-paint",a);if(c){i=S(n,s,Kt,r.reportAllChanges);var f=lt(function(){rt[s.id]||(a(c.takeRecords()),c.disconnect(),rt[s.id]=!0,i(!0))});["keydown","click"].forEach(function(l){addEventListener(l,function(){return dt(f)},{once:!0,capture:!0})}),G(f),B(function(l){s=_("LCP"),i=S(n,s,Kt,r.reportAllChanges),ut(function(){s.value=performance.now()-l.timeStamp,rt[s.id]=!0,i(!0)})})}})})(function(n){var r=function(i){var o={timeToFirstByte:0,resourceLoadDelay:0,resourceLoadDuration:0,elementRenderDelay:i.value};if(i.entries.length){var s=K();if(s){var a=s.activationStart||0,c=i.entries[i.entries.length-1],f=c.url&&performance.getEntriesByType("resource").filter(function(j){return j.name===c.url})[0],l=Math.max(0,s.responseStart-a),u=Math.max(l,f?(f.requestStart||f.startTime)-a:0),m=Math.max(u,f?f.responseEnd-a:0),E=Math.max(m,c.startTime-a);o={element:st(c.element),timeToFirstByte:l,resourceLoadDelay:u-l,resourceLoadDuration:m-u,elementRenderDelay:E-m,navigationEntry:s,lcpEntry:c},c.url&&(o.url=c.url),f&&(o.lcpResourceEntry=f)}}return Object.assign(i,{attribution:o})}(n);t(r)},e)};var se="@firebase/installations",Tt="0.6.13";var ce=1e4,ue=`w:${Tt}`,le="FIS_v2",hn="https://firebaseinstallations.googleapis.com/v1",Tn=60*60*1e3,vn="installations",En="Installations";var In={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},A=new V(vn,En,In);function fe(t){return t instanceof Ft&&t.code.includes("request-failed")}function de({projectId:t}){return`${hn}/projects/${t}/installations`}function pe(t){return{token:t.token,requestStatus:2,expiresIn:Sn(t.expiresIn),creationTime:Date.now()}}function ge(t,e){return p(this,null,function*(){let r=(yield e.json()).error;return A.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})}function me({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function _n(t,{refreshToken:e}){let n=me(t);return n.append("Authorization",bn(e)),n}function he(t){return p(this,null,function*(){let e=yield t();return e.status>=500&&e.status<600?t():e})}function Sn(t){return Number(t.replace("s","000"))}function bn(t){return`${le} ${t}`}function yn(r,i){return p(this,arguments,function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){let o=de(t),s=me(t),a=e.getImmediate({optional:!0});if(a){let u=yield a.getHeartbeatsHeader();u&&s.append("x-firebase-client",u)}let c={fid:n,authVersion:le,appId:t.appId,sdkVersion:ue},f={method:"POST",headers:s,body:JSON.stringify(c)},l=yield he(()=>fetch(o,f));if(l.ok){let u=yield l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:pe(u.authToken)}}else throw yield ge("Create Installation",l)})}function Te(t){return new Promise(e=>{setTimeout(e,t)})}function An(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}var wn=/^[cdef][\w-]{21}$/,ht="";function Nn(){try{let t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;let n=Rn(t);return wn.test(n)?n:ht}catch{return ht}}function Rn(t){return An(t).substr(0,22)}function X(t){return`${t.appName}!${t.appId}`}var ve=new Map;function Ee(t,e){let n=X(t);Ie(n,e),Cn(n,e)}function Ie(t,e){let n=ve.get(t);if(n)for(let r of n)r(e)}function Cn(t,e){let n=Mn();n&&n.postMessage({key:t,fid:e}),Pn()}var y=null;function Mn(){return!y&&"BroadcastChannel"in self&&(y=new BroadcastChannel("[Firebase] FID Change"),y.onmessage=t=>{Ie(t.data.key,t.data.fid)}),y}function Pn(){ve.size===0&&y&&(y.close(),y=null)}var kn="firebase-installations-database",On=1,w="firebase-installations-store",gt=null;function vt(){return gt||(gt=qt(kn,On,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(w)}}})),gt}function W(t,e){return p(this,null,function*(){let n=X(t),i=(yield vt()).transaction(w,"readwrite"),o=i.objectStore(w),s=yield o.get(n);return yield o.put(e,n),yield i.done,(!s||s.fid!==e.fid)&&Ee(t,e.fid),e})}function _e(t){return p(this,null,function*(){let e=X(t),r=(yield vt()).transaction(w,"readwrite");yield r.objectStore(w).delete(e),yield r.done})}function J(t,e){return p(this,null,function*(){let n=X(t),i=(yield vt()).transaction(w,"readwrite"),o=i.objectStore(w),s=yield o.get(n),a=e(s);return a===void 0?yield o.delete(n):yield o.put(a,n),yield i.done,a&&(!s||s.fid!==a.fid)&&Ee(t,a.fid),a})}function Et(t){return p(this,null,function*(){let e,n=yield J(t.appConfig,r=>{let i=Ln(r),o=Fn(t,i);return e=o.registrationPromise,o.installationEntry});return n.fid===ht?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}})}function Ln(t){let e=t||{fid:Nn(),registrationStatus:0};return Se(e)}function Fn(t,e){if(e.registrationStatus===0){if(!navigator.onLine){let i=Promise.reject(A.create("app-offline"));return{installationEntry:e,registrationPromise:i}}let n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=Dn(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Un(t)}:{installationEntry:e}}function Dn(t,e){return p(this,null,function*(){try{let n=yield yn(t,e);return W(t.appConfig,n)}catch(n){throw fe(n)&&n.customData.serverCode===409?yield _e(t.appConfig):yield W(t.appConfig,{fid:e.fid,registrationStatus:0}),n}})}function Un(t){return p(this,null,function*(){let e=yield ae(t.appConfig);for(;e.registrationStatus===1;)yield Te(100),e=yield ae(t.appConfig);if(e.registrationStatus===0){let{installationEntry:n,registrationPromise:r}=yield Et(t);return r||n}return e})}function ae(t){return J(t,e=>{if(!e)throw A.create("installation-not-found");return Se(e)})}function Se(t){return Bn(t)?{fid:t.fid,registrationStatus:0}:t}function Bn(t){return t.registrationStatus===1&&t.registrationTime+ce<Date.now()}function qn(r,i){return p(this,arguments,function*({appConfig:t,heartbeatServiceProvider:e},n){let o=xn(t,n),s=_n(t,n),a=e.getImmediate({optional:!0});if(a){let u=yield a.getHeartbeatsHeader();u&&s.append("x-firebase-client",u)}let c={installation:{sdkVersion:ue,appId:t.appId}},f={method:"POST",headers:s,body:JSON.stringify(c)},l=yield he(()=>fetch(o,f));if(l.ok){let u=yield l.json();return pe(u)}else throw yield ge("Generate Auth Token",l)})}function xn(t,{fid:e}){return`${de(t)}/${e}/authTokens:generate`}function It(t,e=!1){return p(this,null,function*(){let n,r=yield J(t.appConfig,o=>{if(!be(o))throw A.create("not-registered");let s=o.authToken;if(!e&&$n(s))return o;if(s.requestStatus===1)return n=jn(t,e),o;{if(!navigator.onLine)throw A.create("app-offline");let a=Hn(o);return n=Vn(t,a),a}});return n?yield n:r.authToken})}function jn(t,e){return p(this,null,function*(){let n=yield oe(t.appConfig);for(;n.authToken.requestStatus===1;)yield Te(100),n=yield oe(t.appConfig);let r=n.authToken;return r.requestStatus===0?It(t,e):r})}function oe(t){return J(t,e=>{if(!be(e))throw A.create("not-registered");let n=e.authToken;return Kn(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function Vn(t,e){return p(this,null,function*(){try{let n=yield qn(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield W(t.appConfig,r),n}catch(n){if(fe(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))yield _e(t.appConfig);else{let r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield W(t.appConfig,r)}throw n}})}function be(t){return t!==void 0&&t.registrationStatus===2}function $n(t){return t.requestStatus===2&&!zn(t)}function zn(t){let e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Tn}function Hn(t){let e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function Kn(t){return t.requestStatus===1&&t.requestTime+ce<Date.now()}function Gn(t){return p(this,null,function*(){let e=t,{installationEntry:n,registrationPromise:r}=yield Et(e);return r?r.catch(console.error):It(e).catch(console.error),n.fid})}function Wn(t,e=!1){return p(this,null,function*(){let n=t;return yield Xn(n),(yield It(n,e)).token})}function Xn(t){return p(this,null,function*(){let{registrationPromise:e}=yield Et(t);e&&(yield e)})}function Jn(t){if(!t||!t.options)throw mt("App Configuration");if(!t.name)throw mt("App Name");let e=["projectId","apiKey","appId"];for(let n of e)if(!t.options[n])throw mt(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function mt(t){return A.create("missing-app-config-values",{valueName:t})}var ye="installations",Yn="installations-internal",Qn=t=>{let e=t.getProvider("app").getImmediate(),n=Jn(e),r=C(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Zn=t=>{let e=t.getProvider("app").getImmediate(),n=C(e,ye).getImmediate();return{getId:()=>Gn(n),getToken:i=>Wn(n,i)}};function tr(){D(new F(ye,Qn,"PUBLIC")),D(new F(Yn,Zn,"PRIVATE"))}tr();M(se,Tt);M(se,Tt,"esm2017");var Ae="@firebase/performance",wt="0.7.2";var Fe=wt,er="FB-PERF-TRACE-START",nr="FB-PERF-TRACE-STOP",Nt="FB-PERF-TRACE-MEASURE",De="_wt_",Ue="_fp",Be="_fcp",qe="_fid",xe="_lcp",rr="lcp_element",je="_inp",ir="inp_interactionTarget",Ve="_cls",ar="cls_largestShiftTarget",$e="@firebase/performance/config",ze="@firebase/performance/configexpire",or="performance",He="Performance";var sr={"trace started":"Trace {$traceName} was started before.","trace stopped":"Trace {$traceName} is not running.","nonpositive trace startTime":"Trace {$traceName} startTime should be positive.","nonpositive trace duration":"Trace {$traceName} duration should be positive.","no window":"Window is not available.","no app id":"App id is not available.","no project id":"Project id is not available.","no api key":"Api key is not available.","invalid cc log":"Attempted to queue invalid cc event","FB not default":"Performance can only start when Firebase app instance is the default one.","RC response not ok":"RC response is not ok","invalid attribute name":"Attribute name {$attributeName} is invalid.","invalid attribute value":"Attribute value {$attributeValue} is invalid.","invalid custom metric name":"Custom metric name {$customMetricName} is invalid","invalid String merger input":"Input for String merger is invalid, contact support team to resolve.","already initialized":"initializePerformance() has already been called with different options. To avoid this error, call initializePerformance() with the same options as when it was originally called, or call getPerformance() to return the already initialized instance."},g=new V(or,He,sr);var b=new Bt(He);b.logLevel=Ut.INFO;var _t,Ke,d=class t{constructor(e){if(this.window=e,!e)throw g.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay),this.onLCP=ie,this.onINP=re,this.onCLS=Jt}getUrl(){return this.windowLocation.href.split("?")[0]}mark(e){!this.performance||!this.performance.mark||this.performance.mark(e)}measure(e,n,r){!this.performance||!this.performance.measure||this.performance.measure(e,n,r)}getEntriesByType(e){return!this.performance||!this.performance.getEntriesByType?[]:this.performance.getEntriesByType(e)}getEntriesByName(e){return!this.performance||!this.performance.getEntriesByName?[]:this.performance.getEntriesByName(e)}getTimeOrigin(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)}requiredApisAvailable(){return!fetch||!Promise||!Lt()?(b.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1):kt()?!0:(b.info("IndexedDB is not supported by current browser"),!1)}setupObserver(e,n){if(!this.PerformanceObserver)return;new this.PerformanceObserver(i=>{for(let o of i.getEntries())n(o)}).observe({entryTypes:[e]})}static getInstance(){return _t===void 0&&(_t=new t(Ke)),_t}};function cr(t){Ke=t}var Ge;function ur(t){let e=t.getId();return e.then(n=>{Ge=n}),e}function Ct(){return Ge}function lr(t){let e=t.getToken();return e.then(n=>{}),e}function we(t,e){let n=t.length-e.length;if(n<0||n>1)throw g.create("invalid String merger input");let r=[];for(let i=0;i<t.length;i++)r.push(t.charAt(i)),e.length>i&&r.push(e.charAt(i));return r.join("")}var St,h=class t{constructor(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=we("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=we("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}getFlTransportFullUrl(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)}static getInstance(){return St===void 0&&(St=new t),St}};var Q=function(t){return t[t.UNKNOWN=0]="UNKNOWN",t[t.VISIBLE=1]="VISIBLE",t[t.HIDDEN=2]="HIDDEN",t}(Q||{}),fr=["firebase_","google_","ga_"],dr=new RegExp("^[a-zA-Z]\\w*$"),pr=40,gr=100;function mr(){let t=d.getInstance().navigator;return t?.serviceWorker?t.serviceWorker.controller?2:3:1}function hr(){switch(d.getInstance().document.visibilityState){case"visible":return Q.VISIBLE;case"hidden":return Q.HIDDEN;default:return Q.UNKNOWN}}function Tr(){let e=d.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function vr(t){return t.length===0||t.length>pr?!1:!fr.some(n=>t.startsWith(n))&&!!t.match(dr)}function Er(t){return t.length!==0&&t.length<=gr}function We(t){var e;let n=(e=t.options)===null||e===void 0?void 0:e.appId;if(!n)throw g.create("no app id");return n}function Ir(t){var e;let n=(e=t.options)===null||e===void 0?void 0:e.projectId;if(!n)throw g.create("no project id");return n}function _r(t){var e;let n=(e=t.options)===null||e===void 0?void 0:e.apiKey;if(!n)throw g.create("no api key");return n}var Sr="0.0.1",v={loggingEnabled:!0},br="FIREBASE_INSTALLATIONS_AUTH";function yr(t,e){let n=Ar();return n?(Ne(n),Promise.resolve()):Rr(t,e).then(Ne).then(r=>wr(r),()=>{})}function Ar(){let t=d.getInstance().localStorage;if(!t)return;let e=t.getItem(ze);if(!e||!Cr(e))return;let n=t.getItem($e);if(n)try{return JSON.parse(n)}catch{return}}function wr(t){let e=d.getInstance().localStorage;!t||!e||(e.setItem($e,JSON.stringify(t)),e.setItem(ze,String(Date.now()+h.getInstance().configTimeToLive*60*60*1e3)))}var Nr="Could not fetch config, will use default configs";function Rr(t,e){return lr(t.installations).then(n=>{let r=Ir(t.app),i=_r(t.app),o=`https://firebaseremoteconfig.googleapis.com/v1/projects/${r}/namespaces/fireperf:fetch?key=${i}`,s=new Request(o,{method:"POST",headers:{Authorization:`${br} ${n}`},body:JSON.stringify({app_instance_id:e,app_instance_id_token:n,app_id:We(t.app),app_version:Fe,sdk_version:Sr})});return fetch(s).then(a=>{if(a.ok)return a.json();throw g.create("RC response not ok")})}).catch(()=>{b.info(Nr)})}function Ne(t){if(!t)return t;let e=h.getInstance(),n=t.entries||{};return n.fpr_enabled!==void 0?e.loggingEnabled=String(n.fpr_enabled)==="true":e.loggingEnabled=v.loggingEnabled,n.fpr_log_source?e.logSource=Number(n.fpr_log_source):v.logSource&&(e.logSource=v.logSource),n.fpr_log_endpoint_url?e.logEndPointUrl=n.fpr_log_endpoint_url:v.logEndPointUrl&&(e.logEndPointUrl=v.logEndPointUrl),n.fpr_log_transport_key?e.transportKey=n.fpr_log_transport_key:v.transportKey&&(e.transportKey=v.transportKey),n.fpr_vc_network_request_sampling_rate!==void 0?e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate):v.networkRequestsSamplingRate!==void 0&&(e.networkRequestsSamplingRate=v.networkRequestsSamplingRate),n.fpr_vc_trace_sampling_rate!==void 0?e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate):v.tracesSamplingRate!==void 0&&(e.tracesSamplingRate=v.tracesSamplingRate),e.logTraceAfterSampling=Re(e.tracesSamplingRate),e.logNetworkAfterSampling=Re(e.networkRequestsSamplingRate),t}function Cr(t){return Number(t)>Date.now()}function Re(t){return Math.random()<=t}var Mt=1,bt;function Xe(t){return Mt=2,bt=bt||Pr(t),bt}function Mr(){return Mt===3}function Pr(t){return kr().then(()=>ur(t.installations)).then(e=>yr(t,e)).then(()=>Ce(),()=>Ce())}function kr(){let t=d.getInstance().document;return new Promise(e=>{if(t&&t.readyState!=="complete"){let n=()=>{t.readyState==="complete"&&(t.removeEventListener("readystatechange",n),e())};t.addEventListener("readystatechange",n)}else e()})}function Ce(){Mt=3}var Je=10*1e3,Or=5.5*1e3,Lr=1e3,Ye=3,Z=Ye,N=[],Me=!1;function Fr(){Me||(Pt(Or),Me=!0)}function Pt(t){setTimeout(()=>{Z<=0||(N.length>0&&Qe(),Pt(Je))},t)}function Qe(){let t=N.splice(0,Lr),e=t.map(r=>({source_extension_json_proto3:r.message,event_time_ms:String(r.eventTime)})),n={request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:h.getInstance().logSource,log_event:e};Dr(n).then(()=>{Z=Ye}).catch(()=>{N=[...t,...N],Z--,b.info(`Tries left: ${Z}.`),Pt(Je)})}function Dr(t){let e=h.getInstance().getFlTransportFullUrl(),n=JSON.stringify(t);return navigator.sendBeacon&&navigator.sendBeacon(e,n)?Promise.resolve():fetch(e,{method:"POST",body:n,keepalive:!0}).then()}function Ur(t){if(!t.eventTime||!t.message)throw g.create("invalid cc log");N=[...N,t]}function Br(t){return(...e)=>{let n=t(...e);Ur({message:n,eventTime:Date.now()})}}function qr(){for(;N.length>0;)Qe()}var q;function Ze(t,e){q||(q={send:Br(Vr),flush:qr}),q.send(t,e)}function Y(t){let e=h.getInstance();!e.instrumentationEnabled&&t.isAuto||!e.dataCollectionEnabled&&!t.isAuto||d.getInstance().requiredApisAvailable()&&(Mr()?yt(t):Xe(t.performanceController).then(()=>yt(t),()=>yt(t)))}function xr(){q&&q.flush()}function yt(t){if(!Ct())return;let e=h.getInstance();!e.loggingEnabled||!e.logTraceAfterSampling||Ze(t,1)}function jr(t){let e=h.getInstance();if(!e.instrumentationEnabled)return;let n=t.url,r=e.logEndPointUrl.split("?")[0],i=e.flTransportEndpointUrl.split("?")[0];n===r||n===i||!e.loggingEnabled||!e.logNetworkAfterSampling||Ze(t,0)}function Vr(t,e){return e===0?$r(t):zr(t)}function $r(t){let e={url:t.url,http_method:t.httpMethod||0,http_response_code:200,response_payload_bytes:t.responsePayloadBytes,client_start_time_us:t.startTimeUs,time_to_response_initiated_us:t.timeToResponseInitiatedUs,time_to_response_completed_us:t.timeToResponseCompletedUs},n={application_info:tn(t.performanceController.app),network_request_metric:e};return JSON.stringify(n)}function zr(t){let e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};Object.keys(t.counters).length!==0&&(e.counters=t.counters);let n=t.getAttributes();Object.keys(n).length!==0&&(e.custom_attributes=n);let r={application_info:tn(t.performanceController.app),trace_metric:e};return JSON.stringify(r)}function tn(t){return{google_app_id:We(t),app_instance_id:Ct(),web_app_info:{sdk_version:Fe,page_url:d.getInstance().getUrl(),service_worker_status:mr(),visibility_state:hr(),effective_connection_type:Tr()},application_process_state:0}}function Pe(t,e){let n=e;if(!n||n.responseStart===void 0)return;let r=d.getInstance().getTimeOrigin(),i=Math.floor((n.startTime+r)*1e3),o=n.responseStart?Math.floor((n.responseStart-n.startTime)*1e3):void 0,s=Math.floor((n.responseEnd-n.startTime)*1e3),a=n.name&&n.name.split("?")[0],c={performanceController:t,url:a,responsePayloadBytes:n.transferSize,startTimeUs:i,timeToResponseInitiatedUs:o,timeToResponseCompletedUs:s};jr(c)}var Hr=100,Kr="_",Gr=[Ue,Be,qe,xe,Ve,je];function Wr(t,e){return t.length===0||t.length>Hr?!1:e&&e.startsWith(De)&&Gr.indexOf(t)>-1||!t.startsWith(Kr)}function Xr(t){let e=Math.floor(t);return e<t&&b.info(`Metric value should be an Integer, setting the value as : ${e}.`),e}var x=class t{constructor(e,n,r=!1,i){this.performanceController=e,this.name=n,this.isAuto=r,this.state=1,this.customAttributes={},this.counters={},this.api=d.getInstance(),this.randomId=Math.floor(Math.random()*1e6),this.isAuto||(this.traceStartMark=`${er}-${this.randomId}-${this.name}`,this.traceStopMark=`${nr}-${this.randomId}-${this.name}`,this.traceMeasure=i||`${Nt}-${this.randomId}-${this.name}`,i&&this.calculateTraceMetrics())}start(){if(this.state!==1)throw g.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2}stop(){if(this.state!==2)throw g.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),Y(this)}record(e,n,r){if(e<=0)throw g.create("nonpositive trace startTime",{traceName:this.name});if(n<=0)throw g.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(n*1e3),this.startTimeUs=Math.floor(e*1e3),r&&r.attributes&&(this.customAttributes=Object.assign({},r.attributes)),r&&r.metrics)for(let i of Object.keys(r.metrics))isNaN(Number(r.metrics[i]))||(this.counters[i]=Math.floor(Number(r.metrics[i])));Y(this)}incrementMetric(e,n=1){this.counters[e]===void 0?this.putMetric(e,n):this.putMetric(e,this.counters[e]+n)}putMetric(e,n){if(Wr(e,this.name))this.counters[e]=Xr(n??0);else throw g.create("invalid custom metric name",{customMetricName:e})}getMetric(e){return this.counters[e]||0}putAttribute(e,n){let r=vr(e),i=Er(n);if(r&&i){this.customAttributes[e]=n;return}if(!r)throw g.create("invalid attribute name",{attributeName:e});if(!i)throw g.create("invalid attribute value",{attributeValue:n})}getAttribute(e){return this.customAttributes[e]}removeAttribute(e){this.customAttributes[e]!==void 0&&delete this.customAttributes[e]}getAttributes(){return Object.assign({},this.customAttributes)}setStartTime(e){this.startTimeUs=e}setDuration(e){this.durationUs=e}calculateTraceMetrics(){let e=this.api.getEntriesByName(this.traceMeasure),n=e&&e[0];n&&(this.durationUs=Math.floor(n.duration*1e3),this.startTimeUs=Math.floor((n.startTime+this.api.getTimeOrigin())*1e3))}static createOobTrace(e,n,r,i,o){let s=d.getInstance().getUrl();if(!s)return;let a=new t(e,De+s,!0),c=Math.floor(d.getInstance().getTimeOrigin()*1e3);a.setStartTime(c),n&&n[0]&&(a.setDuration(Math.floor(n[0].duration*1e3)),a.putMetric("domInteractive",Math.floor(n[0].domInteractive*1e3)),a.putMetric("domContentLoadedEventEnd",Math.floor(n[0].domContentLoadedEventEnd*1e3)),a.putMetric("loadEventEnd",Math.floor(n[0].loadEventEnd*1e3)));let f="first-paint",l="first-contentful-paint";if(r){let u=r.find(E=>E.name===f);u&&u.startTime&&a.putMetric(Ue,Math.floor(u.startTime*1e3));let m=r.find(E=>E.name===l);m&&m.startTime&&a.putMetric(Be,Math.floor(m.startTime*1e3)),o&&a.putMetric(qe,Math.floor(o*1e3))}this.addWebVitalMetric(a,xe,rr,i.lcp),this.addWebVitalMetric(a,Ve,ar,i.cls),this.addWebVitalMetric(a,je,ir,i.inp),Y(a),xr()}static addWebVitalMetric(e,n,r,i){i&&(e.putMetric(n,Math.floor(i.value*1e3)),i.elementAttribution&&e.putAttribute(r,i.elementAttribution))}static createUserTimingTrace(e,n){let r=new t(e,n,!1,n);Y(r)}};var tt={},ke=!1,en;function Oe(t){Ct()&&(setTimeout(()=>Yr(t),0),setTimeout(()=>Jr(t),0),setTimeout(()=>Qr(t),0))}function Jr(t){let e=d.getInstance(),n=e.getEntriesByType("resource");for(let r of n)Pe(t,r);e.setupObserver("resource",r=>Pe(t,r))}function Yr(t){let e=d.getInstance();"onpagehide"in window?e.document.addEventListener("pagehide",()=>At(t)):e.document.addEventListener("unload",()=>At(t)),e.document.addEventListener("visibilitychange",()=>{e.document.visibilityState==="hidden"&&At(t)}),e.onFirstInputDelay&&e.onFirstInputDelay(n=>{en=n}),e.onLCP(n=>{var r;tt.lcp={value:n.value,elementAttribution:(r=n.attribution)===null||r===void 0?void 0:r.element}}),e.onCLS(n=>{var r;tt.cls={value:n.value,elementAttribution:(r=n.attribution)===null||r===void 0?void 0:r.largestShiftTarget}}),e.onINP(n=>{var r;tt.inp={value:n.value,elementAttribution:(r=n.attribution)===null||r===void 0?void 0:r.interactionTarget}})}function Qr(t){let e=d.getInstance(),n=e.getEntriesByType("measure");for(let r of n)Le(t,r);e.setupObserver("measure",r=>Le(t,r))}function Le(t,e){let n=e.name;n.substring(0,Nt.length)!==Nt&&x.createUserTimingTrace(t,n)}function At(t){if(!ke){ke=!0;let e=d.getInstance(),n=e.getEntriesByType("navigation"),r=e.getEntriesByType("paint");setTimeout(()=>{x.createOobTrace(t,n,r,tt,en)},0)}}var Rt=class{constructor(e,n){this.app=e,this.installations=n,this.initialized=!1}_init(e){this.initialized||(e?.dataCollectionEnabled!==void 0&&(this.dataCollectionEnabled=e.dataCollectionEnabled),e?.instrumentationEnabled!==void 0&&(this.instrumentationEnabled=e.instrumentationEnabled),d.getInstance().requiredApisAvailable()?Ot().then(n=>{n&&(Fr(),Xe(this).then(()=>Oe(this),()=>Oe(this)),this.initialized=!0)}).catch(n=>{b.info(`Environment doesn't support IndexedDB: ${n}`)}):b.info('Firebase Performance cannot start if the browser does not support "Fetch" and "Promise", or cookies are disabled.'))}set instrumentationEnabled(e){h.getInstance().instrumentationEnabled=e}get instrumentationEnabled(){return h.getInstance().instrumentationEnabled}set dataCollectionEnabled(e){h.getInstance().dataCollectionEnabled=e}get dataCollectionEnabled(){return h.getInstance().dataCollectionEnabled}},Zr="[DEFAULT]";function mi(t=et()){return t=$(t),C(t,"performance").getImmediate()}function hi(t,e){t=$(t);let n=C(t,"performance");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(Dt(o,e??{}))return i;throw g.create("already initialized")}return n.initialize({options:e})}function Ti(t,e){return t=$(t),new x(t,e)}var ti=(t,{options:e})=>{let n=t.getProvider("app").getImmediate(),r=t.getProvider("installations-internal").getImmediate();if(n.name!==Zr)throw g.create("FB not default");if(typeof window>"u")throw g.create("no window");cr(window);let i=new Rt(n,r);return i._init(e),i};function ei(){D(new F("performance",ti,"PUBLIC")),M(Ae,wt),M(Ae,wt,"esm2017")}ei();export{mi as a,hi as b,Ti as c};

import{t as B}from"./chunk-P5PUGBH6.js";import{g as L}from"./chunk-HF5DDPS3.js";import{a as I,b as m,c as D,d as O,f as N,h as q,i as T,m as G,n as A,p as R}from"./chunk-K65C4JJG.js";import{c as h,x as V,y as z}from"./chunk-YOCB2I3H.js";import{Ab as w,Cb as E,Db as S,Eb as y,Fb as k,Gb as M,Ka as a,Va as _,Za as p,aa as d,db as s,gb as C,ib as r,jb as n,jc as P,kb as b,oc as F,pb as f,qb as c,ra as x,yb as l,zb as v}from"./chunk-KARPGTJI.js";var W=()=>({width:"30rem"});function j(t,e){if(t&1&&(r(0,"div",15),l(1),n()),t&2){let o=c();a(),v(o.emailError)}}function J(t,e){if(t&1&&(r(0,"div",15),l(1),n()),t&2){let o=c();a(),v(o.passwordError)}}function K(t,e){if(t&1&&(r(0,"div",16),l(1),n()),t&2){let o=c();a(),w(" ",o.loginError," ")}}var H=class t{visible=!1;visibleChange=new x;messageService=d(h);fb=d(A);router=d(L);authService=d(B);loginError="";loginForm=this.fb.group({email:["",[m.required,m.email]],password:["",[m.required,m.minLength(6)]]});onSubmit(){if(this.loginForm.valid){let{email:e,password:o}=this.loginForm.value;this.authService.login(e,o).subscribe({next:()=>{this.router.navigate(["/features"]),this.closeDialog(),this.messageService.add({severity:"success",summary:"Success",detail:"Login successful!"})},error:i=>{this.loginError="Invalid email or password."}})}else this.loginForm.markAllAsTouched()}showDialog(){this.visible=!0}closeDialog(){this.visible=!1,this.visibleChange.emit(!1),this.loginError=""}get emailError(){let e=this.loginForm.get("email");return e?.hasError("required")&&e?.touched?"Email is required.":e?.hasError("email")&&e?.touched?"Invalid email address.":""}get passwordError(){let e=this.loginForm.get("password");return e?.hasError("required")&&e?.touched?"Password is required.":e?.hasError("minlength")&&e?.touched?"Password must be at least 6 characters long.":""}static \u0275fac=function(o){return new(o||t)};static \u0275cmp=_({type:t,selectors:[["login"]],inputs:{visible:"visible"},outputs:{visibleChange:"visibleChange"},features:[k([h])],decls:21,vars:9,consts:[["header","Login",3,"visibleChange","onHide","modal","visible"],[1,"content"],[1,"container"],[3,"ngSubmit","formGroup"],[1,"row"],[1,"col-12"],["for","email"],["type","email","formControlName","email","required","",1,"form-control","input-field"],["class","error-message",4,"ngIf"],["for","password"],["type","password","formControlName","password","required","",1,"form-control","input-field"],["class","error-banner text-center mt-2",4,"ngIf"],[1,"row","gap-2"],["type","submit",1,"btn","button","mt-3","col-md-3"],["type","button",1,"btn","golden","mt-3","col-md-3",3,"click"],[1,"error-message"],[1,"error-banner","text-center","mt-2"]],template:function(o,i){o&1&&(r(0,"p-dialog",0),y("visibleChange",function(g){return S(i.visible,g)||(i.visible=g),g}),f("onHide",function(){return i.closeDialog()}),r(1,"div",1)(2,"div",2)(3,"form",3),f("ngSubmit",function(){return i.onSubmit()}),r(4,"div",4)(5,"div",5)(6,"label",6),l(7,"Email"),n(),b(8,"input",7),p(9,j,2,1,"div",8),n(),r(10,"div",5)(11,"label",9),l(12,"Password"),n(),b(13,"input",10),p(14,J,2,1,"div",8),n()(),p(15,K,2,1,"div",11),r(16,"div",12)(17,"button",13),l(18,"Login"),n(),r(19,"button",14),f("click",function(){return i.closeDialog()}),l(20,"Cancel"),n()()()()()()),o&2&&(C(M(8,W)),s("modal",!0),E("visible",i.visible),a(3),s("formGroup",i.loginForm),a(6),s("ngIf",i.emailError),a(5),s("ngIf",i.passwordError),a(),s("ngIf",i.loginError))},dependencies:[F,P,R,N,I,D,O,G,q,T,z,V],styles:[".p-dialog{border-radius:12px!important;box-shadow:0 10px 30px #0000004d!important;-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);background:#ffffff1a!important;border:1px solid rgba(255,255,255,.2)}  .p-dialog-header{background:linear-gradient(135deg,#2d89ff,#6aa9ff)!important;color:#fff!important;font-size:1.5rem!important;padding:15px 25px!important;font-weight:700;border-top-left-radius:12px;border-top-right-radius:12px}.content[_ngcontent-%COMP%]{background:#000000b3;padding:30px;width:100%;color:#fff;border-radius:8px;box-shadow:0 4px 12px #0003}.input-field[_ngcontent-%COMP%]{background:#ffffff1a;border:1px solid rgba(255,255,255,.3);color:#fff;padding:10px;border-radius:8px;outline:none;transition:.3s}.input-field[_ngcontent-%COMP%]:focus{border-color:#3c8fffe6;background:#fff3}.error-message[_ngcontent-%COMP%]{color:#ff6b6b;font-size:.9rem;margin-top:5px}.error-banner[_ngcontent-%COMP%]{background-color:#f003;color:#ff6b6b;padding:10px;border-radius:10px}.btn[_ngcontent-%COMP%]{color:#fff;padding:10px 20px;border-radius:8px;border:none;transition:.3s ease;outline:none;font-weight:700;font-size:1rem}.button[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3c8fffe6,#6aa9ff);box-shadow:0 4px 8px #0003}.button[_ngcontent-%COMP%]:hover{background:#fff3;color:#3c8fffe6;border:1px solid #3c8fffe6;transition:.5s}.button[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.golden[_ngcontent-%COMP%]{border:1px solid #3c8fffe6;background:transparent}.golden[_ngcontent-%COMP%]:hover{background:#3c8fffe6}"]})};export{H as a};

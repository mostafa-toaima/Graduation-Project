import{t as $}from"./chunk-P5PUGBH6.js";import{g as q}from"./chunk-HF5DDPS3.js";import{a as U,b as m,c as O,d as k,f as I,g as T,h as D,i as A,j as G,k as L,l as R,m as V,n as B,p as H}from"./chunk-K65C4JJG.js";import{c as h,x as z,y as W}from"./chunk-YOCB2I3H.js";import{Cb as x,Db as S,Eb as y,Fb as F,Gb as w,Ka as l,Va as C,Za as d,aa as v,db as s,gb as E,ib as n,ic as N,jb as i,jc as P,kb as p,oc as M,pb as u,qb as f,ra as _,yb as a,zb as c}from"./chunk-KARPGTJI.js";var J=()=>({width:"60rem"});function K(r,e){if(r&1&&(n(0,"div",33),a(1),i()),r&2){let t=f();l(),c(t.firstNameError)}}function Q(r,e){if(r&1&&(n(0,"div",33),a(1),i()),r&2){let t=f();l(),c(t.lastNameError)}}function X(r,e){if(r&1&&(n(0,"div",33),a(1),i()),r&2){let t=f();l(),c(t.emailError)}}function Y(r,e){if(r&1&&(n(0,"div",33),a(1),i()),r&2){let t=f();l(),c(t.mobileError)}}function Z(r,e){if(r&1&&(n(0,"option",34),a(1),i()),r&2){let t=e.$implicit;s("value",t.name),l(),c(t.name)}}function ee(r,e){if(r&1&&(n(0,"option",34),a(1),i()),r&2){let t=e.$implicit;s("value",t),l(),c(t)}}function te(r,e){if(r&1&&(n(0,"option",34),a(1),i()),r&2){let t=e.$implicit;s("value",t),l(),c(t)}}function ie(r,e){if(r&1&&(n(0,"div",33),a(1),i()),r&2){let t=f();l(),c(t.genderError)}}function re(r,e){if(r&1&&(n(0,"div",33),a(1),i()),r&2){let t=f();l(),c(t.passwordError)}}function ne(r,e){if(r&1&&(n(0,"div",33),a(1),i()),r&2){let t=f();l(),c(t.confirmPasswordError)}}var j=class r{visible=!1;visibleChange=new _;messageService=v(h);authService=v($);fb=v(B);router=v(q);universities=[{name:"Tanta",faculties:["Engineering","Science","Business"],departments:{Engineering:["Computer Science","Civil"],Science:["Physics","Chemistry"],Business:["Finance","Management"]}},{name:"Mansoura",faculties:["Engineering","Arts","Law"],departments:{Engineering:["Software","Mechanical"],Arts:["History","Philosophy"],Law:["Criminal","Civil"]}},{name:"Menoufia",faculties:["Engineering","Agriculture"],departments:{Engineering:["Electrical","Chemical"],Agriculture:["Plant Science","Animal Science"]}}];selectedUniversity="";selectedFaculty="";filteredFaculties=[];filteredDepartments=[];registerForm=this.fb.group({firstName:["",m.required],lastName:["",m.required],email:["",[m.required,m.email]],university:["",m.required],faculty:["",m.required],department:["",m.required],mobile:["",[m.required,m.pattern("^[0-9]{10,15}$")]],password:["",[m.required,m.minLength(6)]],confirmPassword:["",[m.required,m.minLength(6)]],gender:["",m.required]});onUniversityChange(){let e=this.registerForm.get("university")?.value,t=this.universities.find(o=>o.name===e);t&&(this.filteredFaculties=t.faculties,this.filteredDepartments=[],this.registerForm.get("faculty")?.reset(),this.registerForm.get("department")?.reset(),this.selectedUniversity=e)}onFacultyChange(){let e=this.registerForm.get("faculty")?.value,t=this.universities.find(o=>o.name===this.selectedUniversity);t&&t.departments[e]&&(this.filteredDepartments=t.departments[e])}onSubmit(){if(this.registerForm.valid){let{email:e,password:t}=this.registerForm.value;this.authService.register(e,t).subscribe({next:()=>{this.router.navigate(["/features"]),this.closeDialog(),this.messageService.add({severity:"success",summary:"Success",detail:"Registration successful!"})},error:o=>{this.messageService.add({severity:"error",summary:"Error",detail:o.message})}})}else this.registerForm.markAllAsTouched()}showDialog(){this.visible=!0}closeDialog(){this.visible=!1,this.visibleChange.emit(!1)}get firstNameError(){let e=this.registerForm.get("firstName");return e?.hasError("required")&&e?.touched?"First Name is required.":""}get lastNameError(){let e=this.registerForm.get("lastName");return e?.hasError("required")&&e?.touched?"Last Name is required.":""}get emailError(){let e=this.registerForm.get("email");return e?.hasError("required")&&e?.touched?"Email is required.":e?.hasError("email")&&e?.touched?"Invalid email address.":""}get mobileError(){let e=this.registerForm.get("mobile");return e?.hasError("required")&&e?.touched?"Mobile number is required.":e?.hasError("pattern")&&e?.touched?"Mobile number must be between 10 to 15 digits.":""}get passwordError(){let e=this.registerForm.get("password");return e?.hasError("required")&&e?.touched?"Password is required.":e?.hasError("minlength")&&e?.touched?"Password must be at least 6 characters long.":""}get confirmPasswordError(){let e=this.registerForm.get("confirmPassword");return e?.hasError("required")&&e?.touched?"Confirm Password is required.":e?.hasError("minlength")&&e?.touched?"Confirm Password must be at least 6 characters long.":""}get genderError(){let e=this.registerForm.get("gender");return e?.hasError("required")&&e?.touched?"Gender selection is required.":""}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=C({type:r,selectors:[["sign-up"]],inputs:{visible:"visible"},outputs:{visibleChange:"visibleChange"},features:[F([h])],decls:70,vars:16,consts:[["header","Create an Account",3,"visibleChange","onHide","modal","visible"],[1,"content"],[1,"container"],[3,"ngSubmit","formGroup"],[1,"row"],[1,"col-md-6"],["for","firstName"],["type","text","formControlName","firstName","required","",1,"form-control","input-field"],["class","error-message",4,"ngIf"],["for","lastName"],["type","text","formControlName","lastName","required","",1,"form-control","input-field"],["for","email"],["type","email","formControlName","email","required","",1,"form-control","input-field"],["for","mobile"],["type","text","formControlName","mobile","required","",1,"form-control","input-field"],["for","university"],["formControlName","university",1,"form-control","select-field",3,"change"],[3,"value",4,"ngFor","ngForOf"],["for","faculty"],["formControlName","faculty",1,"form-control","select-field",3,"change"],["for","department"],["formControlName","department",1,"form-control","select-field"],["for","gender"],[1,"gender-options"],["type","radio","formControlName","gender","value","Male"],["type","radio","formControlName","gender","value","Female"],["for","password"],["type","password","formControlName","password","required","",1,"form-control","input-field"],["for","confirmPassword"],["type","password","formControlName","confirmPassword","required","",1,"form-control","input-field"],[1,"row","gap-2"],["type","submit",1,"btn","button","mt-3","col-md-3"],["type","button",1,"btn","golden","mt-3","col-md-3",3,"click"],[1,"error-message"],[3,"value"]],template:function(t,o){t&1&&(n(0,"p-dialog",0),y("visibleChange",function(b){return S(o.visible,b)||(o.visible=b),b}),u("onHide",function(){return o.closeDialog()}),n(1,"div",1)(2,"div",2)(3,"form",3),u("ngSubmit",function(){return o.onSubmit()}),n(4,"div",4)(5,"div",5)(6,"label",6),a(7,"First Name"),i(),p(8,"input",7),d(9,K,2,1,"div",8),i(),n(10,"div",5)(11,"label",9),a(12,"Last Name"),i(),p(13,"input",10),d(14,Q,2,1,"div",8),i()(),n(15,"div",4)(16,"div",5)(17,"label",11),a(18,"Email"),i(),p(19,"input",12),d(20,X,2,1,"div",8),i(),n(21,"div",5)(22,"label",13),a(23,"Mobile"),i(),p(24,"input",14),d(25,Y,2,1,"div",8),i()(),n(26,"div",4)(27,"div",5)(28,"label",15),a(29,"University"),i(),n(30,"select",16),u("change",function(){return o.onUniversityChange()}),d(31,Z,2,2,"option",17),i()(),n(32,"div",5)(33,"label",18),a(34,"Faculty"),i(),n(35,"select",19),u("change",function(){return o.onFacultyChange()}),d(36,ee,2,2,"option",17),i()()(),n(37,"div",4)(38,"div",5)(39,"label",20),a(40,"Department"),i(),n(41,"select",21),d(42,te,2,2,"option",17),i()(),n(43,"div",5)(44,"label",22),a(45,"Gender"),i(),n(46,"div",23)(47,"label"),p(48,"input",24),a(49," Male"),i(),n(50,"label"),p(51,"input",25),a(52," Female"),i()(),d(53,ie,2,1,"div",8),i()(),n(54,"div",4)(55,"div",5)(56,"label",26),a(57,"Password"),i(),p(58,"input",27),d(59,re,2,1,"div",8),i(),n(60,"div",5)(61,"label",28),a(62,"Confirm Password"),i(),p(63,"input",29),d(64,ne,2,1,"div",8),i()(),n(65,"div",30)(66,"button",31),a(67,"Create"),i(),n(68,"button",32),u("click",function(){return o.closeDialog()}),a(69,"Cancel"),i()()()()()()),t&2&&(E(w(15,J)),s("modal",!0),x("visible",o.visible),l(3),s("formGroup",o.registerForm),l(6),s("ngIf",o.firstNameError),l(5),s("ngIf",o.lastNameError),l(6),s("ngIf",o.emailError),l(5),s("ngIf",o.mobileError),l(6),s("ngForOf",o.universities),l(5),s("ngForOf",o.filteredFaculties),l(6),s("ngForOf",o.filteredDepartments),l(11),s("ngIf",o.genderError),l(6),s("ngIf",o.passwordError),l(5),s("ngIf",o.confirmPasswordError))},dependencies:[M,N,P,H,I,L,R,U,G,T,O,k,V,D,A,W,z],styles:[".p-dialog{border-radius:12px!important;box-shadow:0 10px 30px #0000004d!important;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);background:#ffffff1a!important;border:1px solid rgba(255,255,255,.2)}  .p-dialog-header{background:linear-gradient(135deg,#2d89ff,#6aa9ff)!important;color:#fff!important;font-size:1.5rem!important;padding:15px 25px!important;font-weight:700;border-top-left-radius:12px;border-top-right-radius:12px}.content[_ngcontent-%COMP%]{background:#000000b3;padding:30px;color:#fff;border-radius:8px}.input-field[_ngcontent-%COMP%]{background:#ffffff1a;border:1px solid rgba(255,255,255,.3);color:#fff;padding:10px;border-radius:8px;outline:none;transition:.3s}.input-field[_ngcontent-%COMP%]:focus{border-color:#3c8fffe6;background:#fff3}.gender-options[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:15px;font-weight:700}.select-field[_ngcontent-%COMP%]{background:#ffffff1a;border:1px solid rgba(255,255,255,.3);color:#fff;padding:10px;border-radius:8px;outline:none;transition:.3s;appearance:none}.select-field[_ngcontent-%COMP%]:hover, .select-field[_ngcontent-%COMP%]:focus{background:#fff3;border-color:#3c8fffe6}  select option{background:#000;color:#fff;padding:10px}  select option:checked{background:#3c8fffe6!important;color:#fff!important}.select-field[_ngcontent-%COMP%]:focus{outline:none}.error-message[_ngcontent-%COMP%]{color:#ff6b6b;font-size:.9rem;margin-top:5px}.btn[_ngcontent-%COMP%]{color:#fff;padding:10px 20px;border-radius:8px;border:none;transition:.3s ease;outline:none;font-weight:700;font-size:1rem}.button[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3c8fffe6,#6aa9ff)}.button[_ngcontent-%COMP%]:hover{background:#fff3;color:#3c8fffe6;border:1px solid #3c8fffe6}.golden[_ngcontent-%COMP%]{border:1px solid #3c8fffe6;background:transparent}.golden[_ngcontent-%COMP%]:hover{background:#3c8fffe6}"]})};export{j as a};

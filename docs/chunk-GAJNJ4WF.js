import{a as h,i as H,j as W}from"./chunk-OL3OQDXW.js";import{a as N,b as m,c as q,d as O,f as T,h as G,i as R,m as V,n as A,p as B}from"./chunk-TF7BHFBT.js";import{d as D}from"./chunk-Z4O4EWBG.js";import{Ia as c,Ka as s,Mb as k,Na as w,Pa as r,Pb as I,Qa as n,Ra as b,U as d,W as C,Wa as u,Xa as g,d as _,db as l,eb as v,fb as x,gb as y,hb as S,ib as F,ja as E,jb as L,kb as M,lb as P,wa as a}from"./chunk-OBTNBA2B.js";var z=()=>({width:"30rem"});function J(i,e){if(i&1&&(r(0,"div",15),l(1),n()),i&2){let t=g();a(),v(t.emailError)}}function K(i,e){if(i&1&&(r(0,"div",15),l(1),n()),i&2){let t=g();a(),v(t.passwordError)}}function Q(i,e){if(i&1&&(r(0,"div",16),l(1),n()),i&2){let t=g();a(),x(" ",t.loginError," ")}}var j=class i{visible=!1;visibleChange=new E;messageService=d(h);fb=d(A);router=d(D);loginError="";loginForm=this.fb.group({email:["",[m.required,m.email]],password:["",[m.required,m.minLength(6)]]});onSubmit(){return _(this,null,function*(){if(this.loginForm.valid){let{email:e,password:t}=this.loginForm.value;try{e=="mtoaima@bis.com"&&t=="123456"?(this.router.navigate(["/features"]),this.closeDialog(),this.messageService.add({severity:"success",summary:"Success",detail:"Registration successful!"})):(this.loginForm.reset(),this.loginError="Invalid email or password.")}catch(o){this.messageService.add({severity:"error",summary:"Error",detail:o.message})}}else this.loginForm.markAllAsTouched()})}showDialog(){this.visible=!0}closeDialog(){this.visible=!1,this.visibleChange.emit(!1),this.loginError=""}get emailError(){let e=this.loginForm.get("email");return e?.hasError("required")&&e?.touched?"Email is required.":e?.hasError("email")&&e?.touched?"Invalid email address.":""}get passwordError(){let e=this.loginForm.get("password");return e?.hasError("required")&&e?.touched?"Password is required.":e?.hasError("minlength")&&e?.touched?"Password must be at least 6 characters long.":""}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=C({type:i,selectors:[["login"]],inputs:{visible:"visible"},outputs:{visibleChange:"visibleChange"},standalone:!0,features:[L([h]),M],decls:21,vars:9,consts:[["header","Login",3,"visibleChange","onHide","modal","visible"],[1,"content"],[1,"container"],[3,"ngSubmit","formGroup"],[1,"row"],[1,"col-12"],["for","email"],["type","email","formControlName","email","required","",1,"form-control"],["class","text-danger",4,"ngIf"],["for","password"],["type","password","formControlName","password","required","",1,"form-control"],["class","err text-center mt-2",4,"ngIf"],[1,"row","gap-2"],["type","submit",1,"btn","button","mt-3","col-md-3"],["type","button",1,"btn","golden","mt-3","col-md-3",3,"click"],[1,"text-danger"],[1,"err","text-center","mt-2"]],template:function(t,o){t&1&&(r(0,"p-dialog",0),F("visibleChange",function(f){return S(o.visible,f)||(o.visible=f),f}),u("onHide",function(){return o.closeDialog()}),r(1,"div",1)(2,"div",2)(3,"form",3),u("ngSubmit",function(){return o.onSubmit()}),r(4,"div",4)(5,"div",5)(6,"label",6),l(7,"Email"),n(),b(8,"input",7),c(9,J,2,1,"div",8),n(),r(10,"div",5)(11,"label",9),l(12,"Password"),n(),b(13,"input",10),c(14,K,2,1,"div",8),n()(),c(15,Q,2,1,"div",11),r(16,"div",12)(17,"button",13),l(18,"Login"),n(),r(19,"button",14),u("click",function(){return o.closeDialog()}),l(20,"Cancel"),n()()()()()()),t&2&&(w(P(8,z)),s("modal",!0),y("visible",o.visible),a(3),s("formGroup",o.loginForm),a(6),s("ngIf",o.emailError),a(5),s("ngIf",o.passwordError),a(),s("ngIf",o.loginError))},dependencies:[I,k,B,T,N,q,O,V,G,R,W,H],styles:[".content[_ngcontent-%COMP%]{background-color:#000000a3;padding:40px;width:100%;color:#fff}  .p-dialog-header{background-color:#000000a3;color:#fff;font-size:large;padding:20px!important;font-weight:700;color:#3c8fffe6}.btn[_ngcontent-%COMP%]{color:#eee;padding:10px 20px;border-radius:.375rem;border:none;transition:background-color .3s ease;outline:none}.button[_ngcontent-%COMP%]{background-color:#3c8fffe6}.button[_ngcontent-%COMP%]:hover{background-color:#000000a3;border:1px solid #3c8fffe6;transition:.5s}.err[_ngcontent-%COMP%]{background-color:red;border-radius:10px}.button[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.golden[_ngcontent-%COMP%]{border:1px solid #3c8fffe6}.golden[_ngcontent-%COMP%]:hover{background-color:#3c8fffe6}"]})};export{j as a};
